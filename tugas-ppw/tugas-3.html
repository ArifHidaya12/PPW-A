
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Data Preprocessing &#8212; My sample book</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'tugas-ppw/tugas-3';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Tugas 2 : Preprocessing &amp; TfIdf" href="tugas-2.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/Potopendat.jpeg" class="logo__image only-light" alt="My sample book - Home"/>
    <script>document.write(`<img src="../_static/Potopendat.jpeg" class="logo__image only-dark" alt="My sample book - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Welcome to your Jupyter Book
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Tugas-1.html">Tugas 1 : Crawling Berita</a></li>
<li class="toctree-l1"><a class="reference internal" href="tugas-2.html">Tugas 2 : Preprocessing  &amp; TfIdf</a></li>

<li class="toctree-l1 current active"><a class="current reference internal" href="#"><strong>Data Preprocessing</strong></a></li>





</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://colab.research.google.com/github/ArifHidaya12/PPW-A/blob/gh-pages/_sources/tugas-ppw/tugas-3.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Colab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Colab logo" src="../_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/ArifHidaya12/PPW-A" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/ArifHidaya12/PPW-A/issues/new?title=Issue%20on%20page%20%2Ftugas-ppw/tugas-3.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/tugas-ppw/tugas-3.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Data Preprocessing</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#"><strong>Data Preprocessing</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#split-data"><strong>Split Data</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tf-idf-weighting"><strong>TF-IDF Weighting</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#logistic-regression"><strong>Logistic Regression</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#model-evaluation"><strong>Model Evaluation</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#test-with-custom-input"><strong>Test With Custom Input</strong></a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">google.colab</span> <span class="kn">import</span> <span class="n">files</span>

<span class="c1"># Upload file  dari komputer</span>
<span class="n">uploaded_preprosessing</span> <span class="o">=</span> <span class="n">files</span><span class="o">.</span><span class="n">upload</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
     <input type="file" id="files-e7aa1a71-3cf4-4dda-91c6-e4591a64f75f" name="files[]" multiple disabled
        style="border:none" />
     <output id="result-e7aa1a71-3cf4-4dda-91c6-e4591a64f75f">
      Upload widget is only available when the cell has been executed in the
      current browser session. Please rerun this cell to enable.
      </output>
      <script>// Copyright 2017 Google LLC
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

/**
 * @fileoverview Helpers for google.colab Python module.
 */
(function(scope) {
function span(text, styleAttributes = {}) {
  const element = document.createElement('span');
  element.textContent = text;
  for (const key of Object.keys(styleAttributes)) {
    element.style[key] = styleAttributes[key];
  }
  return element;
}

// Max number of bytes which will be uploaded at a time.
const MAX_PAYLOAD_SIZE = 100 * 1024;

function _uploadFiles(inputId, outputId) {
  const steps = uploadFilesStep(inputId, outputId);
  const outputElement = document.getElementById(outputId);
  // Cache steps on the outputElement to make it available for the next call
  // to uploadFilesContinue from Python.
  outputElement.steps = steps;

  return _uploadFilesContinue(outputId);
}

// This is roughly an async generator (not supported in the browser yet),
// where there are multiple asynchronous steps and the Python side is going
// to poll for completion of each step.
// This uses a Promise to block the python side on completion of each step,
// then passes the result of the previous step as the input to the next step.
function _uploadFilesContinue(outputId) {
  const outputElement = document.getElementById(outputId);
  const steps = outputElement.steps;

  const next = steps.next(outputElement.lastPromiseValue);
  return Promise.resolve(next.value.promise).then((value) => {
    // Cache the last promise value to make it available to the next
    // step of the generator.
    outputElement.lastPromiseValue = value;
    return next.value.response;
  });
}

/**
 * Generator function which is called between each async step of the upload
 * process.
 * @param {string} inputId Element ID of the input file picker element.
 * @param {string} outputId Element ID of the output display.
 * @return {!Iterable<!Object>} Iterable of next steps.
 */
function* uploadFilesStep(inputId, outputId) {
  const inputElement = document.getElementById(inputId);
  inputElement.disabled = false;

  const outputElement = document.getElementById(outputId);
  outputElement.innerHTML = '';

  const pickedPromise = new Promise((resolve) => {
    inputElement.addEventListener('change', (e) => {
      resolve(e.target.files);
    });
  });

  const cancel = document.createElement('button');
  inputElement.parentElement.appendChild(cancel);
  cancel.textContent = 'Cancel upload';
  const cancelPromise = new Promise((resolve) => {
    cancel.onclick = () => {
      resolve(null);
    };
  });

  // Wait for the user to pick the files.
  const files = yield {
    promise: Promise.race([pickedPromise, cancelPromise]),
    response: {
      action: 'starting',
    }
  };

  cancel.remove();

  // Disable the input element since further picks are not allowed.
  inputElement.disabled = true;

  if (!files) {
    return {
      response: {
        action: 'complete',
      }
    };
  }

  for (const file of files) {
    const li = document.createElement('li');
    li.append(span(file.name, {fontWeight: 'bold'}));
    li.append(span(
        `(${file.type || 'n/a'}) - ${file.size} bytes, ` +
        `last modified: ${
            file.lastModifiedDate ? file.lastModifiedDate.toLocaleDateString() :
                                    'n/a'} - `));
    const percent = span('0% done');
    li.appendChild(percent);

    outputElement.appendChild(li);

    const fileDataPromise = new Promise((resolve) => {
      const reader = new FileReader();
      reader.onload = (e) => {
        resolve(e.target.result);
      };
      reader.readAsArrayBuffer(file);
    });
    // Wait for the data to be ready.
    let fileData = yield {
      promise: fileDataPromise,
      response: {
        action: 'continue',
      }
    };

    // Use a chunked sending to avoid message size limits. See b/62115660.
    let position = 0;
    do {
      const length = Math.min(fileData.byteLength - position, MAX_PAYLOAD_SIZE);
      const chunk = new Uint8Array(fileData, position, length);
      position += length;

      const base64 = btoa(String.fromCharCode.apply(null, chunk));
      yield {
        response: {
          action: 'append',
          file: file.name,
          data: base64,
        },
      };

      let percentDone = fileData.byteLength === 0 ?
          100 :
          Math.round((position / fileData.byteLength) * 100);
      percent.textContent = `${percentDone}% done`;

    } while (position < fileData.byteLength);
  }

  // All done.
  yield {
    response: {
      action: 'complete',
    }
  };
}

scope.google = scope.google || {};
scope.google.colab = scope.google.colab || {};
scope.google.colab._files = {
  _uploadFiles,
  _uploadFilesContinue,
};
})(self);
</script> </div><div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyboardInterrupt</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="nn">&lt;ipython-input-1-a72b7e0c6bf1&gt;</span> in <span class="ni">&lt;cell line: 4&gt;</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> 
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="c1"># Upload file  dari komputer</span>
<span class="ne">----&gt; </span><span class="mi">4</span> <span class="n">uploaded_preprosessing</span> <span class="o">=</span> <span class="n">files</span><span class="o">.</span><span class="n">upload</span><span class="p">()</span>

<span class="nn">/usr/local/lib/python3.10/dist-packages/google/colab/files.py</span> in <span class="ni">upload</span><span class="nt">()</span>
<span class="g g-Whitespace">     </span><span class="mi">67</span>   <span class="s2">&quot;&quot;&quot;</span>
<span class="g g-Whitespace">     </span><span class="mi">68</span><span class="s2"> </span>
<span class="ne">---&gt; </span><span class="mi">69</span><span class="s2">   uploaded_files = _upload_files(multiple=True)</span>
<span class="g g-Whitespace">     </span><span class="mi">70</span><span class="s2">   # Mapping from original filename to filename as saved locally.</span>
<span class="g g-Whitespace">     </span><span class="mi">71</span><span class="s2">   local_filenames = dict()</span>

<span class="nn">/usr/local/lib/python3.10/dist-packages/google/colab/files.py</span> in <span class="ni">_upload_files</span><span class="nt">(multiple)</span>
<span class="g g-Whitespace">    </span><span class="mi">154</span><span class="s2"> </span>
<span class="g g-Whitespace">    </span><span class="mi">155</span><span class="s2">   # First result is always an indication that the file picker has completed.</span>
<span class="ne">--&gt; </span><span class="mi">156</span><span class="s2">   result = _output.eval_js(</span>
<span class="g g-Whitespace">    </span><span class="mi">157</span><span class="s2">       &#39;google.colab._files._uploadFiles(&quot;</span><span class="si">{input_id}</span><span class="s2">&quot;, &quot;</span><span class="si">{output_id}</span><span class="s2">&quot;)&#39;.format(</span>
<span class="g g-Whitespace">    </span><span class="mi">158</span><span class="s2">           input_id=input_id, output_id=output_id</span>

<span class="nn">/usr/local/lib/python3.10/dist-packages/google/colab/output/_js.py</span> in <span class="ni">eval_js</span><span class="nt">(script, ignore_result, timeout_sec)</span>
<span class="g g-Whitespace">     </span><span class="mi">38</span><span class="s2">   if ignore_result:</span>
<span class="g g-Whitespace">     </span><span class="mi">39</span><span class="s2">     return</span>
<span class="ne">---&gt; </span><span class="mi">40</span><span class="s2">   return _message.read_reply_from_input(request_id, timeout_sec)</span>
<span class="g g-Whitespace">     </span><span class="mi">41</span><span class="s2"> </span>
<span class="g g-Whitespace">     </span><span class="mi">42</span><span class="s2"> </span>

<span class="nn">/usr/local/lib/python3.10/dist-packages/google/colab/_message.py</span> in <span class="ni">read_reply_from_input</span><span class="nt">(message_id, timeout_sec)</span>
<span class="g g-Whitespace">     </span><span class="mi">94</span><span class="s2">     reply = _read_next_input_message()</span>
<span class="g g-Whitespace">     </span><span class="mi">95</span><span class="s2">     if reply == _NOT_READY or not isinstance(reply, dict):</span>
<span class="ne">---&gt; </span><span class="mi">96</span><span class="s2">       time.sleep(0.025)</span>
<span class="g g-Whitespace">     </span><span class="mi">97</span><span class="s2">       continue</span>
<span class="g g-Whitespace">     </span><span class="mi">98</span><span class="s2">     if (</span>

<span class="ne">KeyboardInterrupt</span>: 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">io</span>

<span class="c1"># Membaca file CSV yang diunggah dan menyimpannya ke dalam DataFrame dengan variabel df_trans</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">uploaded_preprosessing</span><span class="p">[</span><span class="s1">&#39;data_preprosessing.csv&#39;</span><span class="p">]))</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="c1"># Menampilkan 5 baris pertama dari DataFrame</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-5a1961bf-c939-4be3-a61d-5fafb61793c0" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>judul</th>
      <th>tanggal</th>
      <th>isi</th>
      <th>kategori</th>
      <th>cleaned_text</th>
      <th>norm_text</th>
      <th>token_text</th>
      <th>swremove_text</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Badan Kurus Tak Berarti Bebas dari Kolesterol ...</td>
      <td>Kamis, 05 Sep 2024 11:03 WIB</td>
      <td>Jakarta - Tak sedikit yang beranggapan bahwa o...</td>
      <td>Kesehatan</td>
      <td>Jakarta Tak sedikit yang beranggapan bahwa ora...</td>
      <td>jakarta tidak sedikit yang beranggapan bahwa o...</td>
      <td>['jakarta', 'tidak', 'sedikit', 'yang', 'beran...</td>
      <td>['jakarta', 'sedikit', 'beranggapan', 'orang',...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Budaya Kerja Toksik di Jepang Picu 54 Karyawan...</td>
      <td>Kamis, 05 Sep 2024 10:38 WIB</td>
      <td>Jakarta -\n        \n        Istilah 'bekerja ...</td>
      <td>Kesehatan</td>
      <td>Jakarta Istilah bekerja sampai mati nampaknya ...</td>
      <td>jakarta istilah bekerja sampai mati nampaknya ...</td>
      <td>['jakarta', 'istilah', 'bekerja', 'sampai', 'm...</td>
      <td>['jakarta', 'istilah', 'bekerja', 'mati', 'nam...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Menyoal Serangan Jantung yang Dialami Faisal B...</td>
      <td>Kamis, 05 Sep 2024 10:03 WIB</td>
      <td>Jakarta - Faisal Basri meninggal dunia. Ekonom...</td>
      <td>Kesehatan</td>
      <td>Jakarta Faisal Basri meninggal dunia Ekonom Un...</td>
      <td>jakarta faisal basri meninggal dunia ekonom un...</td>
      <td>['jakarta', 'faisal', 'basri', 'meninggal', 'd...</td>
      <td>['jakarta', 'faisal', 'basri', 'meninggal', 'd...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Nyeri Kronis yang Bikin Paus Fransiskus Tak Bi...</td>
      <td>Kamis, 05 Sep 2024 09:37 WIB</td>
      <td>Jakarta - Pemimpin tertinggi Gereja Katolik se...</td>
      <td>Kesehatan</td>
      <td>Jakarta Pemimpin tertinggi Gereja Katolik sedu...</td>
      <td>jakarta pemimpin tertinggi gereja katolik sedu...</td>
      <td>['jakarta', 'pemimpin', 'tertinggi', 'gereja',...</td>
      <td>['jakarta', 'pemimpin', 'tertinggi', 'gereja',...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Perundungan PPDS Tak Cuma Terjadi di Undip, Be...</td>
      <td>Kamis, 05 Sep 2024 08:35 WIB</td>
      <td>Jakarta - Aksi bullying atau perundungan di ma...</td>
      <td>Kesehatan</td>
      <td>Jakarta Aksi bullying atau perundungan di masa...</td>
      <td>jakarta aksi bullying atau perundungan di masa...</td>
      <td>['jakarta', 'aksi', 'bullying', 'atau', 'perun...</td>
      <td>['jakarta', 'aksi', 'bullying', 'perundungan',...</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-5a1961bf-c939-4be3-a61d-5fafb61793c0')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-5a1961bf-c939-4be3-a61d-5fafb61793c0 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-5a1961bf-c939-4be3-a61d-5fafb61793c0');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-2154903d-68f8-4d8f-a245-7452c1546bc8">
  <button class="colab-df-quickchart" onclick="quickchart('df-2154903d-68f8-4d8f-a245-7452c1546bc8')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-2154903d-68f8-4d8f-a245-7452c1546bc8 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<section class="tex2jax_ignore mathjax_ignore" id="data-preprocessing">
<h1><strong>Data Preprocessing</strong><a class="headerlink" href="#data-preprocessing" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ast</span>

<span class="n">df_doc</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="c1"># Mengonversi string menjadi list jika perlu</span>
<span class="n">df_doc</span><span class="p">[</span><span class="s1">&#39;swremove_text&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_doc</span><span class="p">[</span><span class="s1">&#39;swremove_text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">x</span><span class="p">)</span>

<span class="c1"># Membuat kolom baru &#39;clean_text&#39; dengan menggabungkan list dalam &#39;swremove_text&#39; menjadi kalimat biasa</span>
<span class="n">df_doc</span><span class="p">[</span><span class="s1">&#39;clean_text&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_doc</span><span class="p">[</span><span class="s1">&#39;swremove_text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">x</span><span class="p">]))</span>

<span class="n">df_doc</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-2104da61-6c75-4a6e-b6df-56c0d8907df9" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>judul</th>
      <th>tanggal</th>
      <th>isi</th>
      <th>kategori</th>
      <th>cleaned_text</th>
      <th>norm_text</th>
      <th>token_text</th>
      <th>swremove_text</th>
      <th>clean_text</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Badan Kurus Tak Berarti Bebas dari Kolesterol ...</td>
      <td>Kamis, 05 Sep 2024 11:03 WIB</td>
      <td>Jakarta - Tak sedikit yang beranggapan bahwa o...</td>
      <td>Kesehatan</td>
      <td>Jakarta Tak sedikit yang beranggapan bahwa ora...</td>
      <td>jakarta tidak sedikit yang beranggapan bahwa o...</td>
      <td>['jakarta', 'tidak', 'sedikit', 'yang', 'beran...</td>
      <td>[jakarta, sedikit, beranggapan, orang, berbada...</td>
      <td>jakarta sedikit beranggapan orang berbadan kur...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Budaya Kerja Toksik di Jepang Picu 54 Karyawan...</td>
      <td>Kamis, 05 Sep 2024 10:38 WIB</td>
      <td>Jakarta -\n        \n        Istilah 'bekerja ...</td>
      <td>Kesehatan</td>
      <td>Jakarta Istilah bekerja sampai mati nampaknya ...</td>
      <td>jakarta istilah bekerja sampai mati nampaknya ...</td>
      <td>['jakarta', 'istilah', 'bekerja', 'sampai', 'm...</td>
      <td>[jakarta, istilah, bekerja, mati, nampaknya, s...</td>
      <td>jakarta istilah bekerja mati nampaknya ssudah ...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Menyoal Serangan Jantung yang Dialami Faisal B...</td>
      <td>Kamis, 05 Sep 2024 10:03 WIB</td>
      <td>Jakarta - Faisal Basri meninggal dunia. Ekonom...</td>
      <td>Kesehatan</td>
      <td>Jakarta Faisal Basri meninggal dunia Ekonom Un...</td>
      <td>jakarta faisal basri meninggal dunia ekonom un...</td>
      <td>['jakarta', 'faisal', 'basri', 'meninggal', 'd...</td>
      <td>[jakarta, faisal, basri, meninggal, dunia, eko...</td>
      <td>jakarta faisal basri meninggal dunia ekonom un...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Nyeri Kronis yang Bikin Paus Fransiskus Tak Bi...</td>
      <td>Kamis, 05 Sep 2024 09:37 WIB</td>
      <td>Jakarta - Pemimpin tertinggi Gereja Katolik se...</td>
      <td>Kesehatan</td>
      <td>Jakarta Pemimpin tertinggi Gereja Katolik sedu...</td>
      <td>jakarta pemimpin tertinggi gereja katolik sedu...</td>
      <td>['jakarta', 'pemimpin', 'tertinggi', 'gereja',...</td>
      <td>[jakarta, pemimpin, tertinggi, gereja, katolik...</td>
      <td>jakarta pemimpin tertinggi gereja katolik sedu...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Perundungan PPDS Tak Cuma Terjadi di Undip, Be...</td>
      <td>Kamis, 05 Sep 2024 08:35 WIB</td>
      <td>Jakarta - Aksi bullying atau perundungan di ma...</td>
      <td>Kesehatan</td>
      <td>Jakarta Aksi bullying atau perundungan di masa...</td>
      <td>jakarta aksi bullying atau perundungan di masa...</td>
      <td>['jakarta', 'aksi', 'bullying', 'atau', 'perun...</td>
      <td>[jakarta, aksi, bullying, perundungan, masa, p...</td>
      <td>jakarta aksi bullying perundungan masa program...</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>95</th>
      <td>Iwh, Pekerja Speedboat Thailand Pamer BAB ke L...</td>
      <td>Rabu, 04 Sep 2024 05:01 WIB</td>
      <td>Jakarta - Warga Thailand dibuat jijik dengan k...</td>
      <td>Pariwisata</td>
      <td>Jakarta Warga Thailand dibuat jijik dengan kel...</td>
      <td>jakarta warga thailand dibuat jijik dengan kel...</td>
      <td>['jakarta', 'warga', 'thailand', 'dibuat', 'ji...</td>
      <td>[jakarta, warga, thailand, dibuat, jijik, kela...</td>
      <td>jakarta warga thailand dibuat jijik kelakuan s...</td>
    </tr>
    <tr>
      <th>96</th>
      <td>Ogah Bayar Layanan, 3 Turis Palestina Keroyok ...</td>
      <td>Selasa, 03 Sep 2024 21:05 WIB</td>
      <td>Taba - Seorang staf hotel di Mesir tewas usai ...</td>
      <td>Pariwisata</td>
      <td>Taba Seorang staf hotel di Mesir tewas usai be...</td>
      <td>taba seorang staf hotel di mesir tewas usai be...</td>
      <td>['taba', 'seorang', 'staf', 'hotel', 'di', 'me...</td>
      <td>[taba, seorang, staf, hotel, mesir, tewas, usa...</td>
      <td>taba seorang staf hotel mesir tewas usai berke...</td>
    </tr>
    <tr>
      <th>97</th>
      <td>Licik, Keluarga Taruh Kecoa di Piring Agar Mak...</td>
      <td>Selasa, 03 Sep 2024 20:37 WIB</td>
      <td>Jakarta - Keluarga asal Meksiko dituduh melaku...</td>
      <td>Pariwisata</td>
      <td>Jakarta Keluarga asal Meksiko dituduh melakuka...</td>
      <td>jakarta keluarga asal meksiko dituduh melakuka...</td>
      <td>['jakarta', 'keluarga', 'asal', 'meksiko', 'di...</td>
      <td>[jakarta, keluarga, asal, meksiko, dituduh, me...</td>
      <td>jakarta keluarga asal meksiko dituduh melakuka...</td>
    </tr>
    <tr>
      <th>98</th>
      <td>Terulang Lagi, Triatlon Paralimpiade Ditunda g...</td>
      <td>Selasa, 03 Sep 2024 20:05 WIB</td>
      <td>Paris - Saat Olimpiade Paris 2024 lalu, kompet...</td>
      <td>Pariwisata</td>
      <td>Paris Saat Olimpiade Paris lalu kompetisi tria...</td>
      <td>paris saat olimpiade paris lalu kompetisi tria...</td>
      <td>['paris', 'saat', 'olimpiade', 'paris', 'lalu'...</td>
      <td>[paris, olimpiade, paris, lalu, kompetisi, tri...</td>
      <td>paris olimpiade paris lalu kompetisi triatlon ...</td>
    </tr>
    <tr>
      <th>99</th>
      <td>Wow, Super Air Jet Buka 8 Rute Baru dari Semar...</td>
      <td>Selasa, 03 Sep 2024 19:37 WIB</td>
      <td>Jakarta - Super Air Jet membuka delapan rute b...</td>
      <td>Pariwisata</td>
      <td>Jakarta Super Air Jet membuka delapan rute bar...</td>
      <td>jakarta super air jet membuka delapan rute bar...</td>
      <td>['jakarta', 'super', 'air', 'jet', 'membuka', ...</td>
      <td>[jakarta, super, air, jet, membuka, delapan, r...</td>
      <td>jakarta super air jet membuka delapan rute bar...</td>
    </tr>
  </tbody>
</table>
<p>100 rows Ã— 9 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-2104da61-6c75-4a6e-b6df-56c0d8907df9')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-2104da61-6c75-4a6e-b6df-56c0d8907df9 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-2104da61-6c75-4a6e-b6df-56c0d8907df9');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-1a62da20-5a31-4af7-a788-b96320b9b867">
  <button class="colab-df-quickchart" onclick="quickchart('df-1a62da20-5a31-4af7-a788-b96320b9b867')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-1a62da20-5a31-4af7-a788-b96320b9b867 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

  <div id="id_51726488-0d51-4852-b52f-eb659b34902a">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('df_doc')"
            title="Generate code using this dataframe."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"/>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_51726488-0d51-4852-b52f-eb659b34902a button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('df_doc');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cek jumlah missing values di setiap kolom</span>
<span class="n">missing_values</span> <span class="o">=</span> <span class="n">df_doc</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Jumlah missing values per kolom:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">missing_values</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Jumlah missing values per kolom:
judul            0
tanggal          0
isi              0
kategori         0
cleaned_text     0
norm_text        0
token_text       0
swremove_text    0
clean_text       0
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">LabelEncoder</span>

<span class="c1"># Transformasi data kategorik</span>
<span class="n">label_encoder</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
<span class="n">df_doc</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s1">&#39;kategori_encoded&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">label_encoder</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">df_doc</span><span class="p">[</span><span class="s1">&#39;kategori&#39;</span><span class="p">])</span>

<span class="c1"># Menampilkan nilai sebelum dan sesudah konversi</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Nilai sebelum dan sesudah konversi:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">label_encoder</span><span class="o">.</span><span class="n">classes_</span><span class="p">,</span> <span class="n">label_encoder</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">label_encoder</span><span class="o">.</span><span class="n">classes_</span><span class="p">))))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">DataFrame setelah Label Encoding:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_doc</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Nilai sebelum dan sesudah konversi:
{&#39;Kesehatan&#39;: 0, &#39;Pariwisata&#39;: 1}

DataFrame setelah Label Encoding:
                                                judul  \
0   Badan Kurus Tak Berarti Bebas dari Kolesterol ...   
1   Budaya Kerja Toksik di Jepang Picu 54 Karyawan...   
2   Menyoal Serangan Jantung yang Dialami Faisal B...   
3   Nyeri Kronis yang Bikin Paus Fransiskus Tak Bi...   
4   Perundungan PPDS Tak Cuma Terjadi di Undip, Be...   
..                                                ...   
95  Iwh, Pekerja Speedboat Thailand Pamer BAB ke L...   
96  Ogah Bayar Layanan, 3 Turis Palestina Keroyok ...   
97  Licik, Keluarga Taruh Kecoa di Piring Agar Mak...   
98  Terulang Lagi, Triatlon Paralimpiade Ditunda g...   
99  Wow, Super Air Jet Buka 8 Rute Baru dari Semar...   

                          tanggal  \
0    Kamis, 05 Sep 2024 11:03 WIB   
1    Kamis, 05 Sep 2024 10:38 WIB   
2    Kamis, 05 Sep 2024 10:03 WIB   
3    Kamis, 05 Sep 2024 09:37 WIB   
4    Kamis, 05 Sep 2024 08:35 WIB   
..                            ...   
95    Rabu, 04 Sep 2024 05:01 WIB   
96  Selasa, 03 Sep 2024 21:05 WIB   
97  Selasa, 03 Sep 2024 20:37 WIB   
98  Selasa, 03 Sep 2024 20:05 WIB   
99  Selasa, 03 Sep 2024 19:37 WIB   

                                                  isi    kategori  \
0   Jakarta - Tak sedikit yang beranggapan bahwa o...   Kesehatan   
1   Jakarta -\n        \n        Istilah &#39;bekerja ...   Kesehatan   
2   Jakarta - Faisal Basri meninggal dunia. Ekonom...   Kesehatan   
3   Jakarta - Pemimpin tertinggi Gereja Katolik se...   Kesehatan   
4   Jakarta - Aksi bullying atau perundungan di ma...   Kesehatan   
..                                                ...         ...   
95  Jakarta - Warga Thailand dibuat jijik dengan k...  Pariwisata   
96  Taba - Seorang staf hotel di Mesir tewas usai ...  Pariwisata   
97  Jakarta - Keluarga asal Meksiko dituduh melaku...  Pariwisata   
98  Paris - Saat Olimpiade Paris 2024 lalu, kompet...  Pariwisata   
99  Jakarta - Super Air Jet membuka delapan rute b...  Pariwisata   

                                         cleaned_text  \
0   Jakarta Tak sedikit yang beranggapan bahwa ora...   
1   Jakarta Istilah bekerja sampai mati nampaknya ...   
2   Jakarta Faisal Basri meninggal dunia Ekonom Un...   
3   Jakarta Pemimpin tertinggi Gereja Katolik sedu...   
4   Jakarta Aksi bullying atau perundungan di masa...   
..                                                ...   
95  Jakarta Warga Thailand dibuat jijik dengan kel...   
96  Taba Seorang staf hotel di Mesir tewas usai be...   
97  Jakarta Keluarga asal Meksiko dituduh melakuka...   
98  Paris Saat Olimpiade Paris lalu kompetisi tria...   
99  Jakarta Super Air Jet membuka delapan rute bar...   

                                            norm_text  \
0   jakarta tidak sedikit yang beranggapan bahwa o...   
1   jakarta istilah bekerja sampai mati nampaknya ...   
2   jakarta faisal basri meninggal dunia ekonom un...   
3   jakarta pemimpin tertinggi gereja katolik sedu...   
4   jakarta aksi bullying atau perundungan di masa...   
..                                                ...   
95  jakarta warga thailand dibuat jijik dengan kel...   
96  taba seorang staf hotel di mesir tewas usai be...   
97  jakarta keluarga asal meksiko dituduh melakuka...   
98  paris saat olimpiade paris lalu kompetisi tria...   
99  jakarta super air jet membuka delapan rute bar...   

                                           token_text  \
0   [&#39;jakarta&#39;, &#39;tidak&#39;, &#39;sedikit&#39;, &#39;yang&#39;, &#39;beran...   
1   [&#39;jakarta&#39;, &#39;istilah&#39;, &#39;bekerja&#39;, &#39;sampai&#39;, &#39;m...   
2   [&#39;jakarta&#39;, &#39;faisal&#39;, &#39;basri&#39;, &#39;meninggal&#39;, &#39;d...   
3   [&#39;jakarta&#39;, &#39;pemimpin&#39;, &#39;tertinggi&#39;, &#39;gereja&#39;,...   
4   [&#39;jakarta&#39;, &#39;aksi&#39;, &#39;bullying&#39;, &#39;atau&#39;, &#39;perun...   
..                                                ...   
95  [&#39;jakarta&#39;, &#39;warga&#39;, &#39;thailand&#39;, &#39;dibuat&#39;, &#39;ji...   
96  [&#39;taba&#39;, &#39;seorang&#39;, &#39;staf&#39;, &#39;hotel&#39;, &#39;di&#39;, &#39;me...   
97  [&#39;jakarta&#39;, &#39;keluarga&#39;, &#39;asal&#39;, &#39;meksiko&#39;, &#39;di...   
98  [&#39;paris&#39;, &#39;saat&#39;, &#39;olimpiade&#39;, &#39;paris&#39;, &#39;lalu&#39;...   
99  [&#39;jakarta&#39;, &#39;super&#39;, &#39;air&#39;, &#39;jet&#39;, &#39;membuka&#39;, ...   

                                        swremove_text  \
0   [jakarta, sedikit, beranggapan, orang, berbada...   
1   [jakarta, istilah, bekerja, mati, nampaknya, s...   
2   [jakarta, faisal, basri, meninggal, dunia, eko...   
3   [jakarta, pemimpin, tertinggi, gereja, katolik...   
4   [jakarta, aksi, bullying, perundungan, masa, p...   
..                                                ...   
95  [jakarta, warga, thailand, dibuat, jijik, kela...   
96  [taba, seorang, staf, hotel, mesir, tewas, usa...   
97  [jakarta, keluarga, asal, meksiko, dituduh, me...   
98  [paris, olimpiade, paris, lalu, kompetisi, tri...   
99  [jakarta, super, air, jet, membuka, delapan, r...   

                                           clean_text  kategori_encoded  
0   jakarta sedikit beranggapan orang berbadan kur...                 0  
1   jakarta istilah bekerja mati nampaknya ssudah ...                 0  
2   jakarta faisal basri meninggal dunia ekonom un...                 0  
3   jakarta pemimpin tertinggi gereja katolik sedu...                 0  
4   jakarta aksi bullying perundungan masa program...                 0  
..                                                ...               ...  
95  jakarta warga thailand dibuat jijik kelakuan s...                 1  
96  taba seorang staf hotel mesir tewas usai berke...                 1  
97  jakarta keluarga asal meksiko dituduh melakuka...                 1  
98  paris olimpiade paris lalu kompetisi triatlon ...                 1  
99  jakarta super air jet membuka delapan rute bar...                 1  

[100 rows x 10 columns]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Menyimpan DataFrame ke file CSV</span>
<span class="n">df_doc</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;teks beneran bersih rill cuy.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="split-data">
<h1><strong>Split Data</strong><a class="headerlink" href="#split-data" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>

<span class="c1"># Split data</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">df_doc</span><span class="p">[</span><span class="s1">&#39;clean_text&#39;</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df_doc</span><span class="p">[</span><span class="s1">&#39;kategori_encoded&#39;</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

<span class="n">x_train</span><span class="p">,</span> <span class="n">x_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="o">*</span><span class="mi">50</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Jumlah data latih:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">x_train</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Jumlah data uji:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">x_test</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0     jakarta sedikit beranggapan orang berbadan kur...
1     jakarta istilah bekerja mati nampaknya ssudah ...
2     jakarta faisal basri meninggal dunia ekonom un...
3     jakarta pemimpin tertinggi gereja katolik sedu...
4     jakarta aksi bullying perundungan masa program...
                            ...                        
95    jakarta warga thailand dibuat jijik kelakuan s...
96    taba seorang staf hotel mesir tewas usai berke...
97    jakarta keluarga asal meksiko dituduh melakuka...
98    paris olimpiade paris lalu kompetisi triatlon ...
99    jakarta super air jet membuka delapan rute bar...
Name: clean_text, Length: 100, dtype: object
0     0
1     0
2     0
3     0
4     0
     ..
95    1
96    1
97    1
98    1
99    1
Name: kategori_encoded, Length: 100, dtype: int64
==================================================
Jumlah data latih: 80
Jumlah data uji: 20
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="tf-idf-weighting">
<h1><strong>TF-IDF Weighting</strong><a class="headerlink" href="#tf-idf-weighting" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.feature_extraction.text</span> <span class="kn">import</span> <span class="n">TfidfVectorizer</span>

<span class="c1"># Inisialisasi TF-IDF Vectorizer</span>
<span class="n">tfidf</span> <span class="o">=</span> <span class="n">TfidfVectorizer</span><span class="p">()</span>

<span class="c1"># Fit dan transform pada data training</span>
<span class="n">x_train_tfidf</span> <span class="o">=</span> <span class="n">tfidf</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">x_train</span><span class="p">)</span>

<span class="c1"># Transform pada data testing</span>
<span class="n">x_test_tfidf</span> <span class="o">=</span> <span class="n">tfidf</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">x_test</span><span class="p">)</span>

<span class="c1"># Mendapatkan nama fitur dari TF-IDF</span>
<span class="n">feature_names</span> <span class="o">=</span> <span class="n">tfidf</span><span class="o">.</span><span class="n">get_feature_names_out</span><span class="p">()</span>

<span class="c1"># Konversi TF-IDF hasil training ke DataFrame</span>
<span class="n">df_train_tfidf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">x_train_tfidf</span><span class="o">.</span><span class="n">toarray</span><span class="p">(),</span> <span class="n">columns</span><span class="o">=</span><span class="n">feature_names</span><span class="p">)</span>

<span class="c1"># Konversi TF-IDF hasil testing ke DataFrame</span>
<span class="n">df_test_tfidf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">x_test_tfidf</span><span class="o">.</span><span class="n">toarray</span><span class="p">(),</span> <span class="n">columns</span><span class="o">=</span><span class="n">feature_names</span><span class="p">)</span>

<span class="c1"># Tampilkan hasil TF-IDF dalam DataFrame</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;TF-IDF untuk data training:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_train_tfidf</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">TF-IDF untuk data testing:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_test_tfidf</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>TF-IDF untuk data training:
    aachen  abad  abang  abdalmasih  abidin  abror     absen  abuabu   ac  \
0      0.0   0.0    0.0    0.000000     0.0    0.0  0.000000     0.0  0.0   
1      0.0   0.0    0.0    0.095311     0.0    0.0  0.000000     0.0  0.0   
2      0.0   0.0    0.0    0.000000     0.0    0.0  0.000000     0.0  0.0   
3      0.0   0.0    0.0    0.000000     0.0    0.0  0.000000     0.0  0.0   
4      0.0   0.0    0.0    0.000000     0.0    0.0  0.000000     0.0  0.0   
..     ...   ...    ...         ...     ...    ...       ...     ...  ...   
75     0.0   0.0    0.0    0.000000     0.0    0.0  0.075569     0.0  0.0   
76     0.0   0.0    0.0    0.000000     0.0    0.0  0.000000     0.0  0.0   
77     0.0   0.0    0.0    0.000000     0.0    0.0  0.000000     0.0  0.0   
78     0.0   0.0    0.0    0.000000     0.0    0.0  0.000000     0.0  0.0   
79     0.0   0.0    0.0    0.000000     0.0    0.0  0.000000     0.0  0.0   

    academic  ...  yura  zainoel  zaitunalpukatselain  zaman      zat  \
0        0.0  ...   0.0      0.0                  0.0    0.0  0.00000   
1        0.0  ...   0.0      0.0                  0.0    0.0  0.00000   
2        0.0  ...   0.0      0.0                  0.0    0.0  0.00000   
3        0.0  ...   0.0      0.0                  0.0    0.0  0.00000   
4        0.0  ...   0.0      0.0                  0.0    0.0  0.00000   
..       ...  ...   ...      ...                  ...    ...      ...   
75       0.0  ...   0.0      0.0                  0.0    0.0  0.00000   
76       0.0  ...   0.0      0.0                  0.0    0.0  0.03387   
77       0.0  ...   0.0      0.0                  0.0    0.0  0.00000   
78       0.0  ...   0.0      0.0                  0.0    0.0  0.00000   
79       0.0  ...   0.0      0.0                  0.0    0.0  0.00000   

     zealand  zenix  zero  zulies  zurich  
0   0.000000    0.0   0.0     0.0     0.0  
1   0.000000    0.0   0.0     0.0     0.0  
2   0.000000    0.0   0.0     0.0     0.0  
3   0.000000    0.0   0.0     0.0     0.0  
4   0.000000    0.0   0.0     0.0     0.0  
..       ...    ...   ...     ...     ...  
75  0.000000    0.0   0.0     0.0     0.0  
76  0.000000    0.0   0.0     0.0     0.0  
77  0.000000    0.0   0.0     0.0     0.0  
78  0.000000    0.0   0.0     0.0     0.0  
79  0.057369    0.0   0.0     0.0     0.0  

[80 rows x 5350 columns]

TF-IDF untuk data testing:
    aachen  abad     abang  abdalmasih  abidin  abror    absen  abuabu   ac  \
0      0.0   0.0  0.000000         0.0     0.0    0.0  0.00000     0.0  0.0   
1      0.0   0.0  0.000000         0.0     0.0    0.0  0.00000     0.0  0.0   
2      0.0   0.0  0.000000         0.0     0.0    0.0  0.00000     0.0  0.0   
3      0.0   0.0  0.000000         0.0     0.0    0.0  0.00000     0.0  0.0   
4      0.0   0.0  0.000000         0.0     0.0    0.0  0.00000     0.0  0.0   
5      0.0   0.0  0.000000         0.0     0.0    0.0  0.00000     0.0  0.0   
6      0.0   0.0  0.036714         0.0     0.0    0.0  0.09582     0.0  0.0   
7      0.0   0.0  0.000000         0.0     0.0    0.0  0.00000     0.0  0.0   
8      0.0   0.0  0.000000         0.0     0.0    0.0  0.00000     0.0  0.0   
9      0.0   0.0  0.000000         0.0     0.0    0.0  0.00000     0.0  0.0   
10     0.0   0.0  0.000000         0.0     0.0    0.0  0.00000     0.0  0.0   
11     0.0   0.0  0.000000         0.0     0.0    0.0  0.00000     0.0  0.0   
12     0.0   0.0  0.000000         0.0     0.0    0.0  0.00000     0.0  0.0   
13     0.0   0.0  0.000000         0.0     0.0    0.0  0.00000     0.0  0.0   
14     0.0   0.0  0.000000         0.0     0.0    0.0  0.00000     0.0  0.0   
15     0.0   0.0  0.000000         0.0     0.0    0.0  0.00000     0.0  0.0   
16     0.0   0.0  0.000000         0.0     0.0    0.0  0.00000     0.0  0.0   
17     0.0   0.0  0.000000         0.0     0.0    0.0  0.00000     0.0  0.0   
18     0.0   0.0  0.000000         0.0     0.0    0.0  0.00000     0.0  0.0   
19     0.0   0.0  0.000000         0.0     0.0    0.0  0.00000     0.0  0.0   

    academic  ...  yura  zainoel  zaitunalpukatselain  zaman  zat  zealand  \
0        0.0  ...   0.0      0.0                  0.0    0.0  0.0      0.0   
1        0.0  ...   0.0      0.0                  0.0    0.0  0.0      0.0   
2        0.0  ...   0.0      0.0                  0.0    0.0  0.0      0.0   
3        0.0  ...   0.0      0.0                  0.0    0.0  0.0      0.0   
4        0.0  ...   0.0      0.0                  0.0    0.0  0.0      0.0   
5        0.0  ...   0.0      0.0                  0.0    0.0  0.0      0.0   
6        0.0  ...   0.0      0.0                  0.0    0.0  0.0      0.0   
7        0.0  ...   0.0      0.0                  0.0    0.0  0.0      0.0   
8        0.0  ...   0.0      0.0                  0.0    0.0  0.0      0.0   
9        0.0  ...   0.0      0.0                  0.0    0.0  0.0      0.0   
10       0.0  ...   0.0      0.0                  0.0    0.0  0.0      0.0   
11       0.0  ...   0.0      0.0                  0.0    0.0  0.0      0.0   
12       0.0  ...   0.0      0.0                  0.0    0.0  0.0      0.0   
13       0.0  ...   0.0      0.0                  0.0    0.0  0.0      0.0   
14       0.0  ...   0.0      0.0                  0.0    0.0  0.0      0.0   
15       0.0  ...   0.0      0.0                  0.0    0.0  0.0      0.0   
16       0.0  ...   0.0      0.0                  0.0    0.0  0.0      0.0   
17       0.0  ...   0.0      0.0                  0.0    0.0  0.0      0.0   
18       0.0  ...   0.0      0.0                  0.0    0.0  0.0      0.0   
19       0.0  ...   0.0      0.0                  0.0    0.0  0.0      0.0   

    zenix  zero  zulies  zurich  
0     0.0   0.0     0.0     0.0  
1     0.0   0.0     0.0     0.0  
2     0.0   0.0     0.0     0.0  
3     0.0   0.0     0.0     0.0  
4     0.0   0.0     0.0     0.0  
5     0.0   0.0     0.0     0.0  
6     0.0   0.0     0.0     0.0  
7     0.0   0.0     0.0     0.0  
8     0.0   0.0     0.0     0.0  
9     0.0   0.0     0.0     0.0  
10    0.0   0.0     0.0     0.0  
11    0.0   0.0     0.0     0.0  
12    0.0   0.0     0.0     0.0  
13    0.0   0.0     0.0     0.0  
14    0.0   0.0     0.0     0.0  
15    0.0   0.0     0.0     0.0  
16    0.0   0.0     0.0     0.0  
17    0.0   0.0     0.0     0.0  
18    0.0   0.0     0.0     0.0  
19    0.0   0.0     0.0     0.0  

[20 rows x 5350 columns]
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="logistic-regression">
<h1><strong>Logistic Regression</strong><a class="headerlink" href="#logistic-regression" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LogisticRegression</span>

<span class="c1"># Latih model</span>
<span class="n">logistic_model</span> <span class="o">=</span> <span class="n">LogisticRegression</span><span class="p">()</span>
<span class="n">logistic_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">x_train_tfidf</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>#sk-container-id-1 {color: black;}#sk-container-id-1 pre{padding: 0;}#sk-container-id-1 div.sk-toggleable {background-color: white;}#sk-container-id-1 label.sk-toggleable__label {cursor: pointer;display: block;width: 100%;margin-bottom: 0;padding: 0.3em;box-sizing: border-box;text-align: center;}#sk-container-id-1 label.sk-toggleable__label-arrow:before {content: "â–¸";float: left;margin-right: 0.25em;color: #696969;}#sk-container-id-1 label.sk-toggleable__label-arrow:hover:before {color: black;}#sk-container-id-1 div.sk-estimator:hover label.sk-toggleable__label-arrow:before {color: black;}#sk-container-id-1 div.sk-toggleable__content {max-height: 0;max-width: 0;overflow: hidden;text-align: left;background-color: #f0f8ff;}#sk-container-id-1 div.sk-toggleable__content pre {margin: 0.2em;color: black;border-radius: 0.25em;background-color: #f0f8ff;}#sk-container-id-1 input.sk-toggleable__control:checked~div.sk-toggleable__content {max-height: 200px;max-width: 100%;overflow: auto;}#sk-container-id-1 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {content: "â–¾";}#sk-container-id-1 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-1 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-1 input.sk-hidden--visually {border: 0;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);height: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;width: 1px;}#sk-container-id-1 div.sk-estimator {font-family: monospace;background-color: #f0f8ff;border: 1px dotted black;border-radius: 0.25em;box-sizing: border-box;margin-bottom: 0.5em;}#sk-container-id-1 div.sk-estimator:hover {background-color: #d4ebff;}#sk-container-id-1 div.sk-parallel-item::after {content: "";width: 100%;border-bottom: 1px solid gray;flex-grow: 1;}#sk-container-id-1 div.sk-label:hover label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-1 div.sk-serial::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: 0;}#sk-container-id-1 div.sk-serial {display: flex;flex-direction: column;align-items: center;background-color: white;padding-right: 0.2em;padding-left: 0.2em;position: relative;}#sk-container-id-1 div.sk-item {position: relative;z-index: 1;}#sk-container-id-1 div.sk-parallel {display: flex;align-items: stretch;justify-content: center;background-color: white;position: relative;}#sk-container-id-1 div.sk-item::before, #sk-container-id-1 div.sk-parallel-item::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: -1;}#sk-container-id-1 div.sk-parallel-item {display: flex;flex-direction: column;z-index: 1;position: relative;background-color: white;}#sk-container-id-1 div.sk-parallel-item:first-child::after {align-self: flex-end;width: 50%;}#sk-container-id-1 div.sk-parallel-item:last-child::after {align-self: flex-start;width: 50%;}#sk-container-id-1 div.sk-parallel-item:only-child::after {width: 0;}#sk-container-id-1 div.sk-dashed-wrapped {border: 1px dashed gray;margin: 0 0.4em 0.5em 0.4em;box-sizing: border-box;padding-bottom: 0.4em;background-color: white;}#sk-container-id-1 div.sk-label label {font-family: monospace;font-weight: bold;display: inline-block;line-height: 1.2em;}#sk-container-id-1 div.sk-label-container {text-align: center;}#sk-container-id-1 div.sk-container {/* jupyter's `normalize.less` sets `[hidden] { display: none; }` but bootstrap.min.css set `[hidden] { display: none !important; }` so we also need the `!important` here to be able to override the default hidden behavior on the sphinx rendered scikit-learn.org. See: https://github.com/scikit-learn/scikit-learn/issues/21755 */display: inline-block !important;position: relative;}#sk-container-id-1 div.sk-text-repr-fallback {display: none;}</style><div id="sk-container-id-1" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>LogisticRegression()</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br />On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-1" type="checkbox" checked><label for="sk-estimator-id-1" class="sk-toggleable__label sk-toggleable__label-arrow">LogisticRegression</label><div class="sk-toggleable__content"><pre>LogisticRegression()</pre></div></div></div></div></div></div></div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="model-evaluation">
<h1><strong>Model Evaluation</strong><a class="headerlink" href="#model-evaluation" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">classification_report</span><span class="p">,</span> <span class="n">confusion_matrix</span>

<span class="c1"># Prediksi</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">logistic_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">x_test_tfidf</span><span class="p">)</span>

<span class="c1"># Tampilkan classification report</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Classification Report:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>

<span class="c1"># Buat confusion matrix</span>
<span class="n">conf_matrix</span> <span class="o">=</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>

<span class="c1"># Definisikan label untuk confusion matrix</span>
<span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Kesehatan&#39;</span><span class="p">,</span> <span class="s1">&#39;Pariwisata&#39;</span><span class="p">]</span>

<span class="c1"># Buat heatmap confusion matrix menggunakan seaborn dengan label yang diinginkan</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">conf_matrix</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Blues&#39;</span><span class="p">,</span> <span class="n">xticklabels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span> <span class="n">yticklabels</span><span class="o">=</span><span class="n">labels</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Predicted Label&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;True Label&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Confusion Matrix&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Classification Report:
              precision    recall  f1-score   support

           0       1.00      0.92      0.96        13
           1       0.88      1.00      0.93         7

    accuracy                           0.95        20
   macro avg       0.94      0.96      0.95        20
weighted avg       0.96      0.95      0.95        20
</pre></div>
</div>
<img alt="../_images/c47cbc966497fa961efa61ed939a5a99f802f58fb10b8dde2e845574d5b52f8a.png" src="../_images/c47cbc966497fa961efa61ed939a5a99f802f58fb10b8dde2e845574d5b52f8a.png" />
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="test-with-custom-input">
<h1><strong>Test With Custom Input</strong><a class="headerlink" href="#test-with-custom-input" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Teks baru yang ingin diprediksi</span>
<span class="n">new_text_1</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&#39;&#39;Pulau Komodo, yang terletak di Kepulauan Nusa Tenggara Timur, Indonesia, adalah salah satu destinasi pariwisata terbaik di dunia.</span>
<span class="s1">Pulau ini terkenal sebagai rumah bagi Komodo, kadal terbesar di dunia, yang menjadi daya tarik utama bagi wisatawan lokal maupun mancanegaraSelain Komodo, keindahan alam di sekitar Pulau Komodo juga luar biasa. Pantai berpasir merah muda atau Pink Beach menawarkan pemandangan yang memukau, dengan air laut yang jernih dan terumbu karang yang masih sangat terjaga. Para penyelam dan snorkeler sering mengunjungi kawasan ini untuk menikmati kekayaan bawah lautnya, termasuk berbagai spesies ikan dan koral yang berwarna-warni.&#39;&#39;&#39;</span><span class="p">]</span>

<span class="n">new_text_2</span> <span class="o">=</span> <span class="p">[</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Kesehatan masyarakat perlu diperhatikan dengan baik. Dalam beberapa tahun terakhir, kita telah menyaksikan peningkatan yang signifikan dalam kesadaran akan pentingnya kesehatan. Berbagai program pemerintah dan organisasi non-pemerintah telah digulirkan untuk meningkatkan kualitas hidup masyarakat.</span>

<span class="sd">    Salah satu inisiatif utama adalah kampanye untuk mendorong masyarakat menjaga pola makan sehat dan rutin berolahraga. Dengan gaya hidup yang semakin modern, banyak orang yang cenderung mengabaikan kesehatan mereka demi kesibukan sehari-hari. Oleh karena itu, penting untuk kembali mengingatkan pentingnya gaya hidup sehat.</span>

<span class="sd">    Selain itu, akses terhadap layanan kesehatan juga harus menjadi perhatian. Banyak daerah, terutama di pedesaan, masih kesulitan mendapatkan layanan kesehatan yang memadai. Pemerintah bersama dengan sektor swasta perlu bekerja sama untuk memastikan bahwa setiap warga negara, tanpa memandang lokasi, dapat mengakses layanan kesehatan yang berkualitas.</span>

<span class="sd">    Tak kalah pentingnya, edukasi mengenai penyakit menular seperti COVID-19 juga harus terus dilakukan. Dengan pengetahuan yang tepat, masyarakat diharapkan bisa lebih siap dan waspada terhadap berbagai penyakit yang bisa menyerang.</span>

<span class="sd">    Dengan kolaborasi yang baik antara pemerintah, masyarakat, dan pihak terkait lainnya, kita dapat menciptakan lingkungan yang lebih sehat dan meningkatkan kualitas hidup masyarakat secara keseluruhan. Mari kita jaga kesehatan kita, karena kesehatan adalah aset paling berharga dalam hidup.&#39;&#39;&#39;</span>
<span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;teks 1: </span><span class="si">{</span><span class="n">new_text_1</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;teks 2: </span><span class="si">{</span><span class="n">new_text_2</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>teks 1: [&#39;Pulau Komodo, yang terletak di Kepulauan Nusa Tenggara Timur, Indonesia, adalah salah satu destinasi pariwisata terbaik di dunia.\nPulau ini terkenal sebagai rumah bagi Komodo, kadal terbesar di dunia, yang menjadi daya tarik utama bagi wisatawan lokal maupun mancanegaraSelain Komodo, keindahan alam di sekitar Pulau Komodo juga luar biasa. Pantai berpasir merah muda atau Pink Beach menawarkan pemandangan yang memukau, dengan air laut yang jernih dan terumbu karang yang masih sangat terjaga. Para penyelam dan snorkeler sering mengunjungi kawasan ini untuk menikmati kekayaan bawah lautnya, termasuk berbagai spesies ikan dan koral yang berwarna-warni.&#39;]
teks 2: [&#39;Kesehatan masyarakat perlu diperhatikan dengan baik. Dalam beberapa tahun terakhir, kita telah menyaksikan peningkatan yang signifikan dalam kesadaran akan pentingnya kesehatan. Berbagai program pemerintah dan organisasi non-pemerintah telah digulirkan untuk meningkatkan kualitas hidup masyarakat. \n\n    Salah satu inisiatif utama adalah kampanye untuk mendorong masyarakat menjaga pola makan sehat dan rutin berolahraga. Dengan gaya hidup yang semakin modern, banyak orang yang cenderung mengabaikan kesehatan mereka demi kesibukan sehari-hari. Oleh karena itu, penting untuk kembali mengingatkan pentingnya gaya hidup sehat.\n\n    Selain itu, akses terhadap layanan kesehatan juga harus menjadi perhatian. Banyak daerah, terutama di pedesaan, masih kesulitan mendapatkan layanan kesehatan yang memadai. Pemerintah bersama dengan sektor swasta perlu bekerja sama untuk memastikan bahwa setiap warga negara, tanpa memandang lokasi, dapat mengakses layanan kesehatan yang berkualitas.\n\n    Tak kalah pentingnya, edukasi mengenai penyakit menular seperti COVID-19 juga harus terus dilakukan. Dengan pengetahuan yang tepat, masyarakat diharapkan bisa lebih siap dan waspada terhadap berbagai penyakit yang bisa menyerang.\n\n    Dengan kolaborasi yang baik antara pemerintah, masyarakat, dan pihak terkait lainnya, kita dapat menciptakan lingkungan yang lebih sehat dan meningkatkan kualitas hidup masyarakat secara keseluruhan. Mari kita jaga kesehatan kita, karena kesehatan adalah aset paling berharga dalam hidup.&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">nltk</span>
<span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;stopwords&#39;</span><span class="p">)</span>
<span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;punkt&#39;</span><span class="p">)</span>
<span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;wordnet&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[nltk_data] Downloading package stopwords to /root/nltk_data...
[nltk_data]   Unzipping corpora/stopwords.zip.
[nltk_data] Downloading package punkt to /root/nltk_data...
[nltk_data]   Unzipping tokenizers/punkt.zip.
[nltk_data] Downloading package wordnet to /root/nltk_data...
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>
<span class="kn">from</span> <span class="nn">nltk.tokenize</span> <span class="kn">import</span> <span class="n">RegexpTokenizer</span>
<span class="kn">from</span> <span class="nn">nltk.corpus</span> <span class="kn">import</span> <span class="n">stopwords</span>

<span class="c1"># Inisialisasi stop words Bahasa Indonesia</span>
<span class="n">stop_words</span> <span class="o">=</span> <span class="n">stopwords</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="s1">&#39;indonesian&#39;</span><span class="p">)</span>
<span class="n">stop_words</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="s1">&#39;scroll&#39;</span><span class="p">,</span> <span class="s1">&#39;to&#39;</span><span class="p">,</span> <span class="s1">&#39;continue&#39;</span><span class="p">,</span> <span class="s1">&#39;with&#39;</span><span class="p">,</span> <span class="s1">&#39;advertisement&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">])</span>
<span class="n">stop_words</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">stop_words</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">preprocess_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="c1"># Pastikan text adalah string, jika berupa list, gabungkan menjadi satu string</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>

    <span class="c1"># Lowercase teks</span>
    <span class="n">txt_casefold</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

    <span class="c1"># Menghapus URL</span>
    <span class="n">txt_nourl</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;http\S+|www\S+|https\S+&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">txt_casefold</span><span class="p">,</span> <span class="n">flags</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">)</span>

    <span class="c1"># Menghapus mentions (@username)</span>
    <span class="n">txt_no_mentions</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;@\w+&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">txt_nourl</span><span class="p">)</span>

    <span class="c1"># Menghapus hashtag</span>
    <span class="n">txt_no_hashtags</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;#\w+&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">txt_no_mentions</span><span class="p">)</span>

    <span class="c1"># Menghapus angka</span>
    <span class="n">txt_no_numbers</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\d+&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">txt_no_hashtags</span><span class="p">)</span>

    <span class="c1"># Menghapus tanda baca dan tokenisasi</span>
    <span class="n">tokenizer</span> <span class="o">=</span> <span class="n">RegexpTokenizer</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\w+&#39;</span><span class="p">)</span>  <span class="c1"># Hanya mengambil alphanumeric characters</span>
    <span class="n">text_token</span> <span class="o">=</span> <span class="n">tokenizer</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">txt_no_numbers</span><span class="p">)</span>

    <span class="c1"># Menghapus stop words</span>
    <span class="n">text_filtered</span> <span class="o">=</span> <span class="p">[</span><span class="n">word</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">text_token</span> <span class="k">if</span> <span class="n">word</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">stop_words</span><span class="p">]</span>

    <span class="c1"># Menggabungkan kembali kata-kata menjadi kalimat</span>
    <span class="n">clean_text</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">text_filtered</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">clean_text</span>

<span class="k">def</span> <span class="nf">label_berita</span><span class="p">(</span><span class="n">hasil</span><span class="p">):</span>
    <span class="n">label</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;Kesehatan&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;Pariwisata&#39;</span><span class="p">}</span>
    <span class="k">return</span> <span class="n">label</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">hasil</span><span class="p">,</span> <span class="s2">&quot;Kategori tidak dikenali&quot;</span><span class="p">)</span>


<span class="c1"># Memproses teks baru</span>
<span class="n">processed_text_1</span> <span class="o">=</span> <span class="n">preprocess_text</span><span class="p">(</span><span class="n">new_text_1</span><span class="p">)</span>
<span class="n">processed_text_2</span> <span class="o">=</span> <span class="n">preprocess_text</span><span class="p">(</span><span class="n">new_text_2</span><span class="p">)</span>

<span class="c1"># Melakukan prediksi</span>
<span class="n">hasil_prediksi_1</span> <span class="o">=</span> <span class="n">logistic_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">tfidf</span><span class="o">.</span><span class="n">transform</span><span class="p">([</span><span class="n">processed_text_1</span><span class="p">]))</span>
<span class="n">hasil_prediksi_2</span> <span class="o">=</span> <span class="n">logistic_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">tfidf</span><span class="o">.</span><span class="n">transform</span><span class="p">([</span><span class="n">processed_text_2</span><span class="p">]))</span>

<span class="c1"># Mendapatkan kategori prediksi</span>
<span class="n">kategori_prediksi_1</span> <span class="o">=</span> <span class="n">label_berita</span><span class="p">(</span><span class="n">hasil_prediksi_1</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">kategori_prediksi_2</span> <span class="o">=</span> <span class="n">label_berita</span><span class="p">(</span><span class="n">hasil_prediksi_2</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="c1"># Menampilkan hasil prediksi</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hasil prediksi kategori untuk new_text_1:&quot;</span><span class="p">,</span> <span class="n">kategori_prediksi_1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hasil prediksi kategori untuk new_text_2:&quot;</span><span class="p">,</span> <span class="n">kategori_prediksi_2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Hasil prediksi kategori untuk new_text_1: Pariwisata
Hasil prediksi kategori untuk new_text_2: Kesehatan
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">joblib</span>

<span class="c1"># Simpan model</span>
<span class="n">joblib</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">logistic_model</span><span class="p">,</span> <span class="s1">&#39;logistic_model.pkl&#39;</span><span class="p">)</span>

<span class="c1"># Simpan TF-IDF Vectorizer</span>
<span class="n">joblib</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">tfidf</span><span class="p">,</span> <span class="s1">&#39;tfidf_vectorizer.pkl&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;tfidf_vectorizer.pkl&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Muat model</span>
<span class="n">loaded_model</span> <span class="o">=</span> <span class="n">joblib</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;logistic_model.pkl&#39;</span><span class="p">)</span>

<span class="c1"># Muat TF-IDF Vectorizer</span>
<span class="n">loaded_tfidf</span> <span class="o">=</span> <span class="n">joblib</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;tfidf_vectorizer.pkl&#39;</span><span class="p">)</span>

<span class="c1">#teks baruuu cuyy</span>
<span class="n">teks_baru_cuy</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&#39;&#39; Kesehatan merupakan topik utama dalam kedokteran. Memiliki badan yang sehat sekali adalah impian setiap orang</span><span class="se">\n</span><span class="s1"> Dengan tubuh yang sering melakukan olah raga, tubuh akan merasa lebih segar dan bugar. anjayy kelazz&#39;&#39;&#39;</span><span class="p">]</span>

<span class="c1"># Memproses teks baru</span>
<span class="n">processed_text_cuy</span> <span class="o">=</span> <span class="n">preprocess_text</span><span class="p">(</span><span class="n">teks_baru_cuy</span><span class="p">)</span>

<span class="c1"># Melakukan prediksi menggunakan model yang dimuat</span>
<span class="n">hasil_prediksi_cuy</span> <span class="o">=</span> <span class="n">loaded_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">loaded_tfidf</span><span class="o">.</span><span class="n">transform</span><span class="p">([</span><span class="n">processed_text_cuy</span><span class="p">]))</span>
<span class="n">kategori_prediksi_cuy</span> <span class="o">=</span> <span class="n">label_berita</span><span class="p">(</span><span class="n">hasil_prediksi_cuy</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="c1"># Menampilkan hasil prediksi</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hasil prediksi kategori untuk teks_baru_cuy:&quot;</span><span class="p">,</span> <span class="n">kategori_prediksi_cuy</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Hasil prediksi kategori untuk teks_baru_cuy: Kesehatan
</pre></div>
</div>
</div>
</div>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./tugas-ppw"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="tugas-2.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Tugas 2 : Preprocessing  &amp; TfIdf</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#"><strong>Data Preprocessing</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#split-data"><strong>Split Data</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tf-idf-weighting"><strong>TF-IDF Weighting</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#logistic-regression"><strong>Logistic Regression</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#model-evaluation"><strong>Model Evaluation</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#test-with-custom-input"><strong>Test With Custom Input</strong></a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Jupyter Book Community
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      Â© Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>